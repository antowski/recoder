# recoder

Библиотека на [1Script] (http://oscript.io) для изменения кодировки текстовых файлов.

## Установка
Подключается как любая другая внешняя библиотека, см. раздел [*Подключение внешних библиотек*] (http://oscript.io/docs/page/libraries) в документации 1Script.

## Использование
В библиотеке определён модуль `Перекодировщик`. В модуле два экспортных метода:

1. `ПерекодироватьФайл(ПолноеИмяФайла, ИсходнаяКодировка, ЦелеваяКодировка)`

Пример использования:
```
Перекодировщик.ПерекодироватьФайл("c:\windows\system.ini", "cp866", "utf-8");
```

2. `ПерекодироватьКаталог(ИмяКаталога[, МаскаПоиска, ИсходнаяКодировка, ЦелеваяКодировка])`

По умолчанию перекодировке подвергаются все файлы в каталоге (маска "*").
По умолчанию используется перекодировка из windows-1251 в utf-8.
Кодировка задается строкой, например "cp866", "windows-1251", "utf-8". Полный список кодировок см. в документации к .Net Framework: https://docs.microsoft.com/en-us/dotnet/api/system.text.encoding?view=netframework-4.8 (колонка name в таблице).
При перекодировке каталога выполняется также перекодировка всех вложенных каталогов.

**Примеры использования**

Перекодировать все файлы в каталоге из windows-1251 в utf-8 (кодировки по-умолчанию):
```
Перекодировщик.ПерекодироватьКаталог("d:\src\");
```

Перекодировать файлы с расширением "1s" и "frm" из windows-1251 в utf-8:
```
Перекодировщик.ПерекодироватьКаталог("d:\src\", ".1s,.frm");
```
Перекодировать файлы с расширением "1s" и "frm" из utf-8 в windows-1251:
```
Перекодировщик.ПерекодироватьКаталог("d:\src\", ".1s,.frm", "utf-8", "windows-1251");
```
